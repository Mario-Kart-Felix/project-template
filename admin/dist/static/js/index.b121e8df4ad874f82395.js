webpackJsonp([2],{195:function(t,e,n){"use strict";function r(t){if(t.$root===t)return"root";var e=t._isVue?t.$options&&t.$options.name||t.$options&&t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options&&t.$options.__file?" at "+(t.$options&&t.$options.__file):"")}var a=n(2),i=n(317),s=n.n(i),u=n(9);s.a.apikey=u.e,a.default.config.errorHandler=function(t,e,n){var a=r(e),i=e.$options&&e.$options.propsData;s.a.notifyError(t,{metaData:{componentName:a,propsData:i,info:n}})}},196:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(9),i=n(0),s=n.n(i),u=n(248);r.default.filter("img",function(t,e){return a.d+"/"+("small"===e?"thumb_img/":"")+t}),r.default.filter("time",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return s()(t).format(e)}),r.default.filter("money",function(t){if(null===t)return 0;var e=t/100;return isNaN(e)?"非法金额":e}),r.default.filter("dict",function(t,e){if(!u[e])return"未知key: "+e;var n=u[e].filter(function(e){return e.id==t})[0];return n?n.name:"未知id: "+t})},197:function(t,e,n){"use strict";var r=n(31),a=n.n(r),i=n(2),s=n(330),u=n(251);i.default.use(s.a),e.a=new s.a({routes:[].concat(a()(u.a),[{path:"*",redirect:"/"}])})},198:function(t,e,n){"use strict";var r=n(2),a=n(332),i=n(254),s=n(252),u=n(253);r.default.use(a.a);var o={user:{id:null,name:null},menu:[],limit:{}};e.a=new a.a.Store({state:o,mutations:i.a,actions:s,getters:u,strict:!1})},199:function(t,e,n){function r(t){n(315),n(314)}var a=n(17)(n(243),n(328),r,null,null);t.exports=a.exports},21:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(49),a=n.n(r),i=n(11),s=n.n(i),u=n(8);n.n(u);s.a.interceptors.response.use(function(t){var e=t.data,r=(t.config,e.errorCode);return r?1==r?void(location.href="login.html"):(n.i(u.Message)({message:e.errorMessage||"未知错误",type:"error"}),a.a.reject()):t},function(t){return a.a.reject(t)})},22:function(t,e){},242:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},methods:{logout:function(){location.href="login.html"}}}},243:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(323),a=n.n(r),i=n(324),s=n.n(i),u=n(322),o=n.n(u),c=n(30);e.default={name:"app",components:{"j-siderbar":a.a,"j-topbar":s.a,"j-breadcrumb":o.a},mounted:function(){var t=localStorage.getItem("j-role")||"user";this.$store.commit(c.a,t),this.$store.dispatch("fetchMenuAndLimit")}}},245:function(t,e,n){"use strict";function r(t,e,n,r){return t.forEach(function(t){var s=t.id;t.children?t.children.forEach(function(t){t.pages||(t.pages=e.map(function(t){return h()({},t)})),t.pages=t.pages.map(function(e){var n=i(e,s,t.id);return h()(e,n)}),t.mainPage=a(t),o(t,n,r)}):(t.pages||(t.pages=e.map(function(t){return h()({},t)})),t.pages=t.pages.map(function(e){var n=i(e,void 0,t.id);return h()(e,n)}),t.mainPage=a(t),o(t,n,r))}),t}function a(t){var e,n=t.main||"list";return e=t.pages.filter(function(t){return t.type===n})[0],e||(e=t.pages[0]),e}function i(t,e,n){return{filePath:s(t,e,n),routePath:u(t,e,n)}}function s(t,e,n){var r=t.filePath;if(!r){var a=t.type;"view"===a&&(a="update"),r=(e?e+"/":"")+n+"/"+a}var i=r.split("/");return i.map(function(t,e){return e===i.length-1?c(t):t}).join("/")}function u(t,e,n){var r=t.routePath;if(!r){var a={update:"update/:id",view:"view/:id"}[t.type]||t.type;r=(e?e+"/":"")+n+"/"+a}return"/"!==r.charAt(0)&&(r="/"+r),r}function o(t,e,n){var r=t.ajaxKey||t.id,a=["list","detail","add","edit","del"],i=t.pages.filter(function(t){return-1===a.indexOf(t.type)}).map(function(t){return t.type}),s=[].concat(a,f()(i));e[r]=l(n+"/"+r,s)}function c(t){return t.charAt(0).toUpperCase()+t.substr(1)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["list","detail","add","edit","del"],n=arguments[2],r={};return n&&n.length>0&&(e=[].concat(f()(e),f()(n))),e.forEach(function(e){r[e]=t+"/"+e}),r}var d=n(31),f=n.n(d),p=n(201),h=n.n(p);n(9);e.a=r},246:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={list:"列表",update:"编辑",view:"详情"};e.default={props:{menu:{type:Array}},computed:{pathArr:function(){return this.$route.path.split("/").filter(function(t){return""!==t})},currMenu:function(){var t=!1,e=this.pathArr,n=this.menu;return e.length>=1&&n.length>0&&n.forEach(function(n){if(!t)if(n.children){if(n.children.length>0){var r=n.children[0];if(!r.path)return void console.error(r);var a=r.path.split("/")[1];a===e[0]&&(t=n)}}else{var a=n.path.split("/")[1];a===e[0]&&(t=n)}}),t},menuName:function(){return this.currMenu?this.currMenu.name:""},subMenuName:function(){if(!this.currMenu.children)return"";var t,e=this.currMenu,n=this.pathArr;if(e){var a="";e.children.forEach(function(t){t.path.split("/")[2]===n[1]&&(a=t.name)}),t=a+(r[this.pathArr[2]]||"未知"+this.pathArr[2])}return t}},mounted:function(){}}},247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{menu:{type:Array}},computed:{pathArr:function(){return this.$route.path.split("/").filter(function(t){return""!==t})},currMenu:function(){var t=this.menu,e=!1,n=this.pathArr;return n.length>=1&&t.length>0&&t.forEach(function(t){if(!e)if(t.children){if(t.children.length>0){var r=t.children[0];if(!r.path)return void console.error(r);var a=r.path.split("/")[1];a===n[0]&&(e=t)}}else{var a=t.path.split("/")[1];a===n[0]&&(e=t)}}),e},currMenuId:function(){return this.currMenu?this.currMenu.id:""},currSubMenuId:function(){if(!this.currMenu.children)return"";var t,e=this.currMenu,n=this.pathArr;return e&&e.children.forEach(function(e){e.path.split("/")[2]===n[1]&&(t=e.id)}),t}},data:function(){return{}},methods:{},mounted:function(){}}},248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"gender",function(){return r}),n.d(e,"musicTypes",function(){return a});var r=[{id:1,name:"男"},{id:2,name:"女"}],a=[{id:"pop",name:"流行"},{id:"classic",name:"经典"}]},249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=n(199),i=n.n(a),s=n(197),u=n(22),o=(n.n(u),n(8)),c=n.n(o),l=(n(195),n(11)),d=n.n(l),f=n(198);r.default.use(c.a),r.default.config.productionTip=!1,r.default.prototype.developing=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"backend",e="backend"===t?"后端接口":"前端";c.a.Message({showClose:!0,message:e+"开发中",type:"info"})},n(21),r.default.prototype.$http=d.a,n(196),new r.default({el:"#app",router:s.a,store:f.a,template:"<App/>",components:{App:i.a}})},251:function(t,e,n){"use strict";function r(t,e){i.push({path:e,component:function(e){s(e,t)}})}var a=n(9),i=[{path:"/",component:function(t){s(t,"Dashboard",!1)}}];a.a.forEach(function(t){t.id;t.children?t.children.forEach(function(t){t.pages.forEach(function(t){r(t.filePath,t.routePath)})}):t.pages.forEach(function(t){r(t.filePath,t.routePath)})});var s=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.e(0).then(function(a){t(n(338)("./"+e+(r?"/Index":"")+".vue"))}.bind(null,n)).catch(n.oe)};e.a=i},252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"setUser",function(){return s}),n.d(e,"fetchMenuAndLimit",function(){return o});var r=n(30),a=n(9),i=n(11),s=(n.n(i),function(t,e){(0,t.commit)(r.b,e)}),u=[];a.a.forEach(function(t){var e=t;if(t.children){var n=t.children.map(function(t){return{id:t.id,name:t.name,role:t.role,path:t.mainPage.routePath}});return u.push({id:e.id,name:e.name,role:e.role,children:n})}return u.push({id:e.id,name:e.name,role:e.role,path:t.mainPage.routePath})}),console.log(u);var o=function(t){var e=t.commit,n=t.state,a=(t.getters,n.role),i=u.filter(function(t){return t.role?t.role===a&&(t.children&&(t.children=t.children.filter(function(t){return!t.role||t.role===a})),!0):(t.children&&(t.children=t.children.filter(function(t){return!t.role||t.role===a})),!0)});e(r.c,{data:{menu:i,limit:{}}})}},253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"placeHolder",function(){return r});var r=function(t){return"xxx"}},254:function(t,e,n){"use strict";var r,a=n(202),i=n.n(a),s=n(30),u=(n(9),n(2),r={},i()(r,s.a,function(t,e){t.role=e}),i()(r,s.b,function(t,e){t.user=e}),i()(r,s.c,function(t,e){t.menu=e.data.menu,t.limit=e.data.limit}),r);e.a=u},30:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i});var r="user/fetch",a="member-and-limit",i="role"},313:function(t,e){},314:function(t,e){},315:function(t,e){},316:function(t,e){},319:function(t,e,n){function r(t){return n(a(t))}function a(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./af":77,"./af.js":77,"./ar":84,"./ar-dz":78,"./ar-dz.js":78,"./ar-kw":79,"./ar-kw.js":79,"./ar-ly":80,"./ar-ly.js":80,"./ar-ma":81,"./ar-ma.js":81,"./ar-sa":82,"./ar-sa.js":82,"./ar-tn":83,"./ar-tn.js":83,"./ar.js":84,"./az":85,"./az.js":85,"./be":86,"./be.js":86,"./bg":87,"./bg.js":87,"./bn":88,"./bn.js":88,"./bo":89,"./bo.js":89,"./br":90,"./br.js":90,"./bs":91,"./bs.js":91,"./ca":92,"./ca.js":92,"./cs":93,"./cs.js":93,"./cv":94,"./cv.js":94,"./cy":95,"./cy.js":95,"./da":96,"./da.js":96,"./de":99,"./de-at":97,"./de-at.js":97,"./de-ch":98,"./de-ch.js":98,"./de.js":99,"./dv":100,"./dv.js":100,"./el":101,"./el.js":101,"./en-au":102,"./en-au.js":102,"./en-ca":103,"./en-ca.js":103,"./en-gb":104,"./en-gb.js":104,"./en-ie":105,"./en-ie.js":105,"./en-nz":106,"./en-nz.js":106,"./eo":107,"./eo.js":107,"./es":109,"./es-do":108,"./es-do.js":108,"./es.js":109,"./et":110,"./et.js":110,"./eu":111,"./eu.js":111,"./fa":112,"./fa.js":112,"./fi":113,"./fi.js":113,"./fo":114,"./fo.js":114,"./fr":117,"./fr-ca":115,"./fr-ca.js":115,"./fr-ch":116,"./fr-ch.js":116,"./fr.js":117,"./fy":118,"./fy.js":118,"./gd":119,"./gd.js":119,"./gl":120,"./gl.js":120,"./gom-latn":121,"./gom-latn.js":121,"./he":122,"./he.js":122,"./hi":123,"./hi.js":123,"./hr":124,"./hr.js":124,"./hu":125,"./hu.js":125,"./hy-am":126,"./hy-am.js":126,"./id":127,"./id.js":127,"./is":128,"./is.js":128,"./it":129,"./it.js":129,"./ja":130,"./ja.js":130,"./jv":131,"./jv.js":131,"./ka":132,"./ka.js":132,"./kk":133,"./kk.js":133,"./km":134,"./km.js":134,"./kn":135,"./kn.js":135,"./ko":136,"./ko.js":136,"./ky":137,"./ky.js":137,"./lb":138,"./lb.js":138,"./lo":139,"./lo.js":139,"./lt":140,"./lt.js":140,"./lv":141,"./lv.js":141,"./me":142,"./me.js":142,"./mi":143,"./mi.js":143,"./mk":144,"./mk.js":144,"./ml":145,"./ml.js":145,"./mr":146,"./mr.js":146,"./ms":148,"./ms-my":147,"./ms-my.js":147,"./ms.js":148,"./my":149,"./my.js":149,"./nb":150,"./nb.js":150,"./ne":151,"./ne.js":151,"./nl":153,"./nl-be":152,"./nl-be.js":152,"./nl.js":153,"./nn":154,"./nn.js":154,"./pa-in":155,"./pa-in.js":155,"./pl":156,"./pl.js":156,"./pt":158,"./pt-br":157,"./pt-br.js":157,"./pt.js":158,"./ro":159,"./ro.js":159,"./ru":160,"./ru.js":160,"./sd":161,"./sd.js":161,"./se":162,"./se.js":162,"./si":163,"./si.js":163,"./sk":164,"./sk.js":164,"./sl":165,"./sl.js":165,"./sq":166,"./sq.js":166,"./sr":168,"./sr-cyrl":167,"./sr-cyrl.js":167,"./sr.js":168,"./ss":169,"./ss.js":169,"./sv":170,"./sv.js":170,"./sw":171,"./sw.js":171,"./ta":172,"./ta.js":172,"./te":173,"./te.js":173,"./tet":174,"./tet.js":174,"./th":175,"./th.js":175,"./tl-ph":176,"./tl-ph.js":176,"./tlh":177,"./tlh.js":177,"./tr":178,"./tr.js":178,"./tzl":179,"./tzl.js":179,"./tzm":181,"./tzm-latn":180,"./tzm-latn.js":180,"./tzm.js":181,"./uk":182,"./uk.js":182,"./ur":183,"./ur.js":183,"./uz":185,"./uz-latn":184,"./uz-latn.js":184,"./uz.js":185,"./vi":186,"./vi.js":186,"./x-pseudo":187,"./x-pseudo.js":187,"./yo":188,"./yo.js":188,"./zh-cn":189,"./zh-cn.js":189,"./zh-hk":190,"./zh-hk.js":190,"./zh-tw":191,"./zh-tw.js":191};r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=319},322:function(t,e,n){var r=n(17)(n(246),n(327),null,null,null);t.exports=r.exports},323:function(t,e,n){function r(t){n(316)}var a=n(17)(n(247),n(329),r,"data-v-cb1f0aea",null);t.exports=a.exports},324:function(t,e,n){function r(t){n(313)}var a=n(17)(n(242),n(326),r,null,null);t.exports=a.exports},326:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"topbar"}},[n("el-menu",{attrs:{theme:"dark","default-active":"2",mode:"horizontal",id:"sc-menu"}},[n("el-menu-item",{attrs:{index:"1"}},[t._v("娱乐")]),t._v(" "),n("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"2"},on:{click:function(e){t.logout()}}},[t._v("登出")])],1)],1)},staticRenderFns:[]}},327:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-breadcrumb",{staticStyle:{padding:"20px 0 20px 30px"},attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),t.menuName?n("el-breadcrumb-item",[t._v(t._s(t.menuName))]):t._e(),t._v(" "),t.subMenuName?n("el-breadcrumb-item",[t._v(t._s(t.subMenuName))]):t._e()],1)},staticRenderFns:[]}},328:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("j-topbar"),t._v(" "),n("el-row",{staticStyle:{"margin-top":"65px"},attrs:{gutter:20}},[n("el-col",{staticStyle:{"min-height":"100px"},attrs:{span:4}},[n("j-siderbar",{attrs:{menu:t.$store.state.menu}})],1),t._v(" "),n("el-col",{attrs:{span:20}},[n("j-breadcrumb",{attrs:{menu:t.$store.state.menu}}),t._v(" "),n("router-view",{attrs:{id:"main-content"}})],1)],1)],1)},staticRenderFns:[]}},329:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"j-siderbar"},[n("el-menu",{staticStyle:{height:"100%","overflow-y":"auto"},attrs:{theme:"dark","default-openeds":[t.currMenuId],"default-active":t.currSubMenuId||t.currMenuId}},[t._l(t.menu,function(e){return[e.children?n("el-submenu",{attrs:{index:e.id}},[n("template",{slot:"title"},[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),e.children?n("el-menu-item-group",{attrs:{title:""}},t._l(e.children,function(e){return n("el-menu-item",{key:e.id,attrs:{index:e.id},on:{click:function(n){t.$router.push(e.path)}}},[n("router-link",{attrs:{to:e.path}},[t._v(t._s(e.name))])],1)})):t._e()],2):n("el-menu-item",{attrs:{index:e.id},on:{click:function(n){t.$router.push(e.path)}}},[n("router-link",{attrs:{to:e.path}},[t._v(t._s(e.name))])],1)]})],2)],1)},staticRenderFns:[]}},9:function(t,e,n){"use strict";n.d(e,"e",function(){return u}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return h});var r,a=n(31),i=(n.n(a),n(245)),s=!1;s=!0,r="http://127.0.0.1:3000";var u="b3899a382b2a7117d2d479959a07a18b3d92d6a7a5ebd6ef14d14eac699be95d",o=r+"/imgs",c=s,l=r+"/api",d=[{id:"dashboard",name:"仪表盘",pages:[{type:"dashboard",filePath:"dashboard",routePath:"dashboard"}]},{id:"account",name:"帐号",role:"admin"},{id:"music",name:"音乐",children:[{id:"song",name:"歌曲"}]}],f={},p=[{type:"list"},{type:"update"},{type:"view"}],h=n.i(i.a)(d,p,f,l);console.log(h)}},[249]);
//# sourceMappingURL=index.b121e8df4ad874f82395.js.map
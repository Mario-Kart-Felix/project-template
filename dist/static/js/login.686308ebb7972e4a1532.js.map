{"version":3,"sources":["webpack:///static/js/login.686308ebb7972e4a1532.js","webpack:///App.vue?31d8","webpack:///./src/pages/login/login.js","webpack:///./src/pages/login/App.vue?f6be","webpack:///./src/router/index.js?61a1","webpack:///./src/router/menu.js?af48","webpack:///./src/assets/utils/ajax.js","webpack:///./src/pages/login/App.vue?4c4e","webpack:///./src/setting.js?75d0"],"names":["webpackJsonp","124","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","name","components","data","model","password","rules","required","message","trigger","methods","login","this","$refs","form","validate","valid","localStorage","setItem","Math","random","location","href","mounted","clear","128","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","__WEBPACK_IMPORTED_MODULE_2_element_ui_lib_theme_default_index_css__","__WEBPACK_IMPORTED_MODULE_3_element_ui__","__WEBPACK_IMPORTED_MODULE_3_element_ui___default","use","a","config","productionTip","el","template","App","filters","17","exports","181","182","183","193","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","slot","_v","ref","label-position","label-width","label","prop","callback","$$v","expression","type","on","click","staticRenderFns","24","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_2_vue_router__","__WEBPACK_IMPORTED_MODULE_3__menu__","routes","path","redirect","28","MENU_PREFIXS","system","music","component","resolve","lazyLoading","concat","parent","types","arguments","length","undefined","Array","isArray","map","fileName","index","e","then","require","bind","catch","oe","73","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2_axios__","__WEBPACK_IMPORTED_MODULE_2_axios___default","__WEBPACK_IMPORTED_MODULE_4__setting__","__WEBPACK_IMPORTED_MODULE_5__router__","interceptors","request","reject","sessionid","getItem","url","indexOf","getUserInfoByCode","method","params","getToken","token","headers","error","response","errcode","push","notShowError","errmsg","i","showClose","successCallback","now","Date","getTime","JSON","parse","expireTime","auth","app_id","appid","app_secret","appsecret","post","Content-Type","res","authInfo","time","expire","err","console","75","injectStyle","ssrContext","Component","76","d","urls","ERROR_CODE_MAP","song","prefix","forEach","SERVER_PREFIX","19"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,ICkBlEJ,EAAA,SDQEK,KCNF,MDOEC,cACAC,KAAM,WACJ,OACEC,OACEH,KCJR,KDKQI,SCHR,MDKMC,OACEL,OCJRM,UAAA,EAAAC,QAAA,SAAAC,QAEA,SDGQJ,WCFRE,UAAA,EAAAC,QAAA,QAAAC,QAIA,YDGEC,SACEC,MAAO,WACLC,KAAKC,MAAMC,KAAKC,SAAS,SAAUC,GACjC,IAAIA,EAIF,OCDV,CDFUC,cAAaC,QAAQ,cAAeC,KCD9CC,UDEUC,SAASC,KCDnB,QDQEC,QAAS,WACPN,aCAJO,WDMMC,IACA,SAAU9B,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAI0B,GAAoC7B,EAAoB,GACxD8B,EAAqC9B,EAAoB,IACzD+B,EAA6C/B,EAAoBgC,EAAEF,GACnEG,EAAuEjC,EAAoB,IE1EpHkC,GF2EwGlC,EAAoBgC,EAAEC,GE3E9HjC,EAAA,KAAAmC,EAAAnC,EAAAgC,EAAAE,EAOAL,GAAA,QAAIO,IAAID,EAAAE,GACRR,EAAA,QAAIS,OAAOC,eAAgB,EAG3BvC,EAAQ,IAcR,GAAI6B,GAAA,SACFW,GAAI,OACJC,SAAU,SACVpC,YAAcqC,IAAAX,EAAAM,GACdM,cFkFIC,GACA,SAAU9C,EAAQ+C,KAMlBC,IACA,SAAUhD,EAAQ+C,KAMlBE,IACA,SAAUjD,EAAQ+C,KAMlBG,IACA,SAAUlD,EAAQ+C,KAMlBI,IACA,SAAUnD,EAAQ+C,GG5IxB/C,EAAA+C,SAAgBK,OAAA,WAAmB,GAAAC,GAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,OACAC,GAAA,SAEGH,EAAA,WACHI,YAAA,UACGJ,EAAA,OACHI,YAAA,WACAC,KAAA,WACGL,EAAA,OACHI,YAAA,iBACGP,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,WACHO,IAAA,OACAL,OACAjD,MAAA4C,EAAA5C,MACAE,MAAA0C,EAAA1C,MACAqD,iBAAA,QACAC,cAAA,UAEGT,EAAA,gBACHE,OACAQ,MAAA,MACAC,KAAA,UAEGX,EAAA,YACH/C,OACAJ,MAAAgD,EAAA5C,MAAA,KACA2D,SAAA,SAAAC,GACAhB,EAAA5C,MAAAH,KAAA+D,GAEAC,WAAA,iBAEG,GAAAjB,EAAAS,GAAA,KAAAN,EAAA,gBACHE,OACAQ,MAAA,KACAC,KAAA,cAEGX,EAAA,YACHE,OACAa,KAAA,YAEA9D,OACAJ,MAAAgD,EAAA5C,MAAA,SACA2D,SAAA,SAAAC,GACAhB,EAAA5C,MAAAC,SAAA2D,GAEAC,WAAA,qBAEG,OAAAjB,EAAAS,GAAA,KAAAN,EAAA,OACHI,YAAA,oBACGJ,EAAA,aACHE,OACAa,KAAA,WAEAC,IACAC,MAAApB,EAAArC,SAEGqC,EAAAS,GAAA,qBACFY,qBHkJKC,GACA,SAAU3E,EAAQC,EAAqBC,GAE7C,YACqB,IAAI0E,GAAwE1E,EAAoB,IAC5F2E,EAAgF3E,EAAoBgC,EAAE0C,GACtGE,EAAoC5E,EAAoB,GACxD6E,EAA2C7E,EAAoB,IAC/D8E,EAAsC9E,EAAoB,GIjNnF4E,GAAA,QAAIxC,IAAIyC,EAAA,GAGR9E,EAAA,KAAmB8E,GAAA,GACjBE,iBAAAJ,IACKG,EAAA,KAGDE,KAAM,IACNC,SAAU,UJ2NVC,GACA,SAAUpF,EAAQC,EAAqBC,GAE7C,YACqB,IAAI0E,GAAwE1E,EAAoB,IAC5F2E,EAAgF3E,EAAoBgC,EAAE0C,GK7OzHS,GACJC,OAAQ,SACRC,MAAO,SAILN,IAEAC,KAAM,IACNM,UAAW,SAAAC,GACTC,EAAYD,EAAS,aAAa,MAJpCE,OAAAd,IAYJ,SAAuBvE,EAAMsF,GAAyC,GAAjCC,GAAiCC,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,IAA1B,OAAQ,SAAU,OAC5D,KAAIG,MAAMC,QAAQL,GAChB,KAAM,sBAER,OAAOA,GAAMM,IAAI,SAAA5B,GACf,GAAIW,OAAWG,EAAaO,GAAxB,IAAmCtF,EAAnC,KAAoD,SAATiE,EAAkB,OAAUA,EAAK,QAC5E6B,EAAW7B,CAOf,OALY,SAATA,IACD6B,EAAW,WAKXlB,OACAM,UAAW,SAAAC,GACTC,EAAYD,EAAYJ,EAAaO,GAArC,IAAgDtF,EAAhD,IAAwD8F,QArB9C,OAAQ,WA2BpBV,EAAc,SAACD,EAASnF,GAAwB,GAAlB+F,GAAkBP,UAAAC,OAAA,OAAAC,KAAAF,UAAA,IAAAA,UAAA,EACpD5F,GAAAoG,EAAA,GAAAC,KAAA,SAA4BC,GAC1Bf,EAAQvF,EAAA,SAAmBI,GAAO+F,EAAQ,SAAW,IAA7C,UADVI,KAAA,KAAAvG,IAAAwG,MAAAxG,EAAAyG,IAKF1G,GAAA,KL4PM2G,GACA,SAAU5G,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIwG,GAAqE3G,EAAoB,KACzF4G,EAA6E5G,EAAoBgC,EAAE2E,GACnGE,EAA8D7G,EAAoB,IAClF8G,EAAsE9G,EAAoBgC,EAAE6E,GAC5FE,EAAsC/G,EAAoB,IAC1DgH,EAA8ChH,EAAoBgC,EAAE+E,GACpE7E,EAA2ClC,EAAoB,IAE/DiH,GADmDjH,EAAoBgC,EAAEE,GAChClC,EAAoB,KAC7DkH,EAAwClH,EAAoB,GMlTrFgH,GAAA3E,EAAM8E,aAAaC,QAAQhF,IAAI,SAAUE,GACvC,MAAO,IAAAwE,GAAAzE,EAAY,SAACkD,EAAS8B,GAC3B,GAAIC,GAAYlG,aAAamG,QAAQ,eACrC,KAAmD,IAAhDjF,EAAOkF,IAAIC,QAAQR,EAAA,EAAKS,mBAezB,MARqB,QAAlBpF,EAAOqF,QACRrF,EAAOsF,OAAStF,EAAOsF,WACvBtF,EAAOsF,OAAON,UAAYA,IAE1BhF,EAAOhC,KAAOgC,EAAOhC,SACrBgC,EAAOhC,KAAKgH,UAAYA,GAGnB/B,EAAQjD,EAdfuF,GAAS,SAASC,GAGhB,MAFAxF,GAAOyF,QAAP,cAAkC,SAAWD,EAC7CxF,EAAOyF,QAAQ,gBAAkB,mBAC1BxC,EAAQjD,QAcpB,SAAU0F,GACX,MAAOlB,GAAAzE,EAAQgF,OAAOW,KAGxBhB,EAAA3E,EAAM8E,aAAac,SAAS7F,IAAI,SAAU6F,GACxC,GAAI3H,GAAO2H,EAAS3H,KAChBgC,EAAS2F,EAAS3F,OAClB4F,EAAU5H,EAAK4H,OACnB,IAAc,IAAXA,EACDhB,EAAA,EAAOiB,KAAK,cACP,QAAcrC,IAAXoC,GAAmC,GAAXA,IAC5B5F,EAAO8F,aAAc,CACvB,GAAIC,GAASpB,EAAA,EAAeiB,IAAY5H,EAAK+H,MAC7CrI,GAAAsI,EAAApG,EAAA,UACEqG,WAAW,EACX5H,QAAS0H,EACThE,KAAM,UAIZ,MAAO4D,IACN,SAAUD,GACX,MAAOlB,GAAAzE,EAAQgF,OAAOW,IAGxB,IAAIH,GAAW,SAASW,GACtB,GAAIC,IAAM,GAAIC,OAAOC,UACjBb,EAAQ1G,aAAamG,QAAQ,WAOjC,IANIO,IACFA,EAAQc,KAAKC,MAAMf,KACdA,EAAMgB,YAAcL,EAAMX,EAAMgB,cACnChB,GAAQ,IAGRA,EACFU,EAAgBV,EAAMA,WACjB,CACL,GAAIiB,IACFC,OAAU/B,EAAA,OAAOgC,MACjBC,WAAcjC,EAAA,OAAOkC,UAEvBnC,GAAA3E,EAAM+G,KAAKnC,EAAA,OAAOO,IAAKuB,GACrBhB,SACEsB,eAAgB,uCAEjBhD,KAAK,SAASiD,GACf,GAAIhJ,GAAOgJ,EAAIhJ,KACXiJ,GACFzB,MAAOxH,EAAKwH,MACZ0B,MAAM,GAAId,OAAOC,UACjBG,WAAYL,EAA4B,KAArBnI,EAAKmJ,OAAS,KAEnCrI,cAAaC,QAAQ,WAAYuF,IAAe2C,IAChDf,EAAgBlI,EAAKwH,QACpB,SAAS4B,GACVC,QAAQ3B,MAAM,6BAA+B0B,QNsU7CE,GACA,SAAU9J,EAAQ+C,EAAS7C,GOzZjC,QAAA6J,GAAAC,GACA9J,EAAA,KACAA,EAAA,KACAA,EAAA,KAEA,GAAA+J,GAAA/J,EAAA,IAEAA,EAAA,KAEAA,EAAA,KAEA6J,EAEA,KAEA,KAGA/J,GAAA+C,QAAAkH,EAAAlH,SPgaMmH,GACA,SAAUlK,EAAQC,EAAqBC,GAE7C,YAC+BA,GAAoBiK,EAAElK,EAAqB,IAAK,WAAa,MAAOmK,KQtbnGlK,EAAAiK,EAAAlK,EAAA,qBAAAoK,IASO,IAAMD,IACXE,KAiBF,SAAsBC,GAA0D,GAAlD1E,GAAkDC,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,IAAzC,OAAQ,SAAU,MAAO,MAAO,QACjE0D,IAIJ,OAHA3D,GAAM2E,QAAQ,SAAAjG,GACZiF,EAAIjF,GAAWgG,EAAf,IAAyBhG,IAEpBiF,OAhCLiB,GAUI,UAaKJ,GACXK,GAAI,WRycH","file":"static/js/login.686308ebb7972e4a1532.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 124:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  components: {},\n  data: function data() {\n    return {\n      model: {\n        name: null,\n        password: null\n      },\n      rules: {\n        name: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\n      }\n    };\n  },\n\n  methods: {\n    login: function login() {\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          localStorage.setItem('j-sessionid', Math.random());\n          location.href = \"/\";\n        } else {\n          return false;\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    localStorage.clear();\n  }\n});\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui_lib_theme_default_index_css__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_element_ui_lib_theme_default_index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_element_ui_lib_theme_default_index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_element_ui__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_3_element_ui___default.a);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].config.productionTip = false;\n\n__webpack_require__(73); // axios 拦截器，做通用报错等\n\n\n// import moment from 'moment'\n// Vue.filter('time', function (timeStr, format = 'YYYY-MM-DD') {\n//   if(!timeStr) {\n//     return ''\n//   }\n//   return (new moment(timeStr)).format(format)\n// })\n\n// Vue.filter()\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a },\n  filters: {}\n});\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('el-card', {\n    staticClass: \"login\"\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"login__title\"\n  }, [_vm._v(\"登录\")])]), _vm._v(\" \"), _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.model,\n      \"rules\": _vm.rules,\n      \"label-position\": \"right\",\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.model.name),\n      callback: function($$v) {\n        _vm.model.name = $$v\n      },\n      expression: \"model.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.model.password),\n      callback: function($$v) {\n        _vm.model.password = $$v\n      },\n      expression: \"model.password\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"login__btn-wrap\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.login\n    }\n  }, [_vm._v(\"登录\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_router__ = __webpack_require__(72);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu__ = __webpack_require__(28);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_2_vue_router__[\"a\" /* default */]({\n  routes: [].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(__WEBPACK_IMPORTED_MODULE_3__menu__[\"a\" /* default */]), [\n  // 出错的默认地址\n  {\n    path: '*',\n    redirect: '/'\n  }])\n}));\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n\nvar MENU_PREFIXS = {\n  system: 'system', // 系统管理\n  music: 'music' // 音乐\n\n\n  // 路由配置\n};var routes = [{\n  path: '/',\n  component: function component(resolve) {\n    lazyLoading(resolve, 'dashboard', false);\n  }\n}].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(addPageGroup('song', 'music')));\n\n// \nfunction addPageGroup(name, parent) {\n  var types = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ['list', 'update', 'view'];\n\n  if (!Array.isArray(types)) {\n    throw 'type should be array';\n  }\n  return types.map(function (type) {\n    var path = '/' + MENU_PREFIXS[parent] + '/' + name + '/' + (type === 'list' ? 'list' : type + '/:id');\n    var fileName = type;\n    // 编辑和查看共用一个页面\n    if (type === 'view') {\n      fileName = 'update';\n    }\n    // fileName = fileName.charAt(0).toUpperCase() + fileName.substr(1)\n    // debugger\n    return {\n      path: path,\n      component: function component(resolve) {\n        lazyLoading(resolve, MENU_PREFIXS[parent] + '/' + name + '/' + fileName);\n      }\n    };\n  });\n}\n\nvar lazyLoading = function lazyLoading(resolve, name) {\n  var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  __webpack_require__.e/* require.ensure */(0).then((function (require) {\n    resolve(__webpack_require__(82)(\"./\" + name + (index ? '/Index' : '') + '.vue'));\n  }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (routes);\n\n// 权限\n// {\n//   path: '/limit',\n//   name: 'limit',\n//   component: resolve => {\n//     lazyLoading(resolve, 'demo/Limit')\n//   },\n// },\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__setting__ = __webpack_require__(76);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__router__ = __webpack_require__(24);\n\n\n\n// localStorage.setItem('sc-sessionid', Math.random()) // 测试\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_axios___default.a.interceptors.request.use(function (config) {\n  return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n    var sessionid = localStorage.getItem('sc-sessionid');\n    if (config.url.indexOf(__WEBPACK_IMPORTED_MODULE_4__setting__[\"a\" /* urls */].getUserInfoByCode) !== -1) {\n      getToken(function (token) {\n        config.headers['Authorization'] = \"token \" + token;\n        config.headers['Content-Type'] = \"application/json\";\n        return resolve(config);\n      });\n    } else {\n      if (config.method === 'get') {\n        config.params = config.params || {};\n        config.params.sessionid = sessionid;\n      } else {\n        // PUT，POST，PATCH\n        config.data = config.data || {};\n        config.data.sessionid = sessionid;\n      }\n      // 加登录的 session\n      return resolve(config);\n    }\n  });\n}, function (error) {\n  return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject(error);\n});\n\n__WEBPACK_IMPORTED_MODULE_2_axios___default.a.interceptors.response.use(function (response) {\n  var data = response.data;\n  var config = response.config;\n  var errcode = data.errcode;\n  if (errcode == 13) {\n    // session 超时，跳登录页\n    __WEBPACK_IMPORTED_MODULE_5__router__[\"a\" /* default */].push('/login');\n  } else if (errcode != undefined && errcode != 0) {\n    if (!config.notShowError) {\n      // 调用的时候设置的\n      var errmsg = __WEBPACK_IMPORTED_MODULE_4__setting__[\"b\" /* ERROR_CODE_MAP */][errcode] || data.errmsg;\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_element_ui__[\"Message\"])({\n        showClose: true,\n        message: errmsg,\n        type: 'error'\n      });\n    }\n  }\n  return response;\n}, function (error) {\n  return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject(error);\n});\n\nvar getToken = function getToken(successCallback) {\n  var now = new Date().getTime();\n  var token = localStorage.getItem(\"authInfo\");\n  if (token) {\n    token = JSON.parse(token);\n    if (!token.expireTime || now > token.expireTime) {\n      // token 过期\n      token = false;\n    }\n  }\n  if (token) {\n    successCallback(token.token);\n  } else {\n    var auth = {\n      \"app_id\": __WEBPACK_IMPORTED_MODULE_4__setting__[\"oauth2\"].appid,\n      \"app_secret\": __WEBPACK_IMPORTED_MODULE_4__setting__[\"oauth2\"].appsecret\n    };\n    __WEBPACK_IMPORTED_MODULE_2_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_4__setting__[\"oauth2\"].url, auth, {\n      headers: {\n        \"Content-Type\": 'application/x-www-form-urlencoded'\n      }\n    }).then(function (res) {\n      var data = res.data;\n      var authInfo = {\n        token: data.token,\n        time: new Date().getTime(),\n        expireTime: now + (data.expire - 100) * 1000 // 过期时间 data.expire 的单位是秒\n      };\n      localStorage.setItem(\"authInfo\", __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(authInfo));\n      successCallback(data.token);\n    }, function (err) {\n      console.error(\"error occur when getToken \" + err);\n    });\n  }\n};\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(183)\n  __webpack_require__(182)\n  __webpack_require__(181)\n}\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(124),\n  /* template */\n  __webpack_require__(193),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return urls; });\n/* unused harmony export LIMIT_KEY */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return ERROR_CODE_MAP; });\nvar SERVER_PREFIX;\nvar HOST;\n\nif (false) {\n  // 开发环境\n  HOST = 'http://127.0.0.1:8001';\n} else {\n  // 线上环境\n  HOST = 'http://amusement.com/api';\n}\n\nvar urls = {\n  song: addUrlGroup(SERVER_PREFIX + '/song')\n\n  // 权限值\n};var LIMIT_KEY = {\n  'ADD': 1,\n  'EDIT': 2,\n  'DELETE': 4,\n  'LIST': 8,\n  'QUERY': 16,\n  'ADUIT': 32\n};\n\nvar ERROR_CODE_MAP = {\n  19: '没有权限'\n};\n\nfunction addUrlGroup(prefix) {\n  var types = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['list', 'detail', 'del', 'add', 'edit'];\n\n  var res = {};\n  types.forEach(function (type) {\n    res[type] = prefix + '/' + type;\n  });\n  return res;\n}\n\n/***/ })\n\n},[128]);\n\n\n// WEBPACK FOOTER //\n// static/js/login.686308ebb7972e4a1532.js","<template>\n  <div id=\"app\">\n    <el-card class=\"login\">\n      <div slot=\"header\" class=\"clearfix\">\n        <div class=\"login__title\">登录</div>\n      </div>\n      <el-form :model=\"model\" :rules=\"rules\" ref=\"form\" label-position=\"right\" label-width=\"80px\">\n          <el-form-item label=\"用户名\" prop=\"name\">\n            <el-input v-model=\"model.name\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"password\">\n            <el-input v-model=\"model.password\" type=\"password\"></el-input>\n          </el-form-item>\n      </el-form>\n      <div class=\"login__btn-wrap\">\n        <el-button @click=\"login\" type=\"primary\">登录</el-button>\n      </div>\n    </el-card>\n    \n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'app',\n  components: {\n    \n  },\n  data() {\n    return {\n      model: {\n        name: null,\n        password: null,\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n        ],\n      },\n    }\n  },\n  methods: {\n    login() {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          localStorage.setItem('j-sessionid', Math.random())\n          location.href= \"/\"\n        } else {\n          return false;\n        }\n      });\n      \n    }\n  },\n  mounted() {\n    localStorage.clear()\n  }\n}\n</script>\n<style src=\"@/assets/reset.css\"></style>\n<style src=\"@/assets/common.css\"></style>\n<style>\n  body {\n    padding-top: 100px;\n    background-color: #324157;\n  }\n  .login{\n    width: 500px;\n    margin: 0 auto;\n  }\n  .login__title {\n    line-height: 36px;\n    text-align: center;\n  }\n  .login__btn-wrap {\n    display: flex;\n    justify-content: center;\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// App.vue?1b1e4bba","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport 'element-ui/lib/theme-default/index.css'\nimport ElementUI from 'element-ui'\n\nVue.use(ElementUI)\nVue.config.productionTip = false\n\n\nrequire('@/assets/utils/ajax') // axios 拦截器，做通用报错等\n\n\n// import moment from 'moment'\n// Vue.filter('time', function (timeStr, format = 'YYYY-MM-DD') {\n//   if(!timeStr) {\n//     return ''\n//   }\n//   return (new moment(timeStr)).format(format)\n// })\n\n// Vue.filter()\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App },\n  filters: {\n    \n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('el-card', {\n    staticClass: \"login\"\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"login__title\"\n  }, [_vm._v(\"登录\")])]), _vm._v(\" \"), _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.model,\n      \"rules\": _vm.rules,\n      \"label-position\": \"right\",\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.model.name),\n      callback: function($$v) {\n        _vm.model.name = $$v\n      },\n      expression: \"model.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.model.password),\n      callback: function($$v) {\n        _vm.model.password = $$v\n      },\n      expression: \"model.password\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"login__btn-wrap\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.login\n    }\n  }, [_vm._v(\"登录\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-692e575c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/App.vue\n// module id = 193\n// module chunks = 3","import Vue from 'vue'\nimport Router from 'vue-router'\nimport menu from './menu'\n\nVue.use(Router)\n\n\nexport default new Router({\n  routes: [\n    ...menu,\n    // 出错的默认地址\n    {\n      path: '*',\n      redirect: '/'\n    }\n  ]\n})\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","const MENU_PREFIXS = {\n  system: 'system', // 系统管理\n  music: 'music', // 音乐\n}\n\n// 路由配置\nvar routes = [\n  {\n    path: '/',\n    component: resolve => {\n      lazyLoading(resolve, 'dashboard', false)\n    },\n  },\n  ...addPageGroup('song', 'music'), //音乐\n  \n]\n\n// \nfunction addPageGroup (name, parent, types=['list', 'update', 'view']){\n  if(!Array.isArray(types)) {\n    throw 'type should be array'\n  }\n  return types.map(type => {\n    var path = `/${MENU_PREFIXS[parent]}/${name}/${type === 'list' ? 'list' : (type+'/:id')}`\n    var fileName = type\n    // 编辑和查看共用一个页面\n    if(type === 'view') {\n      fileName = 'update'\n    }\n    // fileName = fileName.charAt(0).toUpperCase() + fileName.substr(1)\n    // debugger\n    return {\n      path,\n      component: resolve => {\n        lazyLoading(resolve, `${MENU_PREFIXS[parent]}/${name}/${fileName}`)\n      }\n    }\n  })\n}\n\nconst lazyLoading = (resolve, name, index = false) => {\n  require.ensure([], function(require) {\n    resolve(require(`@/views/${name}${index ? '/Index' : ''}.vue`));\n  })\n}\n\nexport default routes\n\n\n\n\n\n\n// 权限\n// {\n//   path: '/limit',\n//   name: 'limit',\n//   component: resolve => {\n//     lazyLoading(resolve, 'demo/Limit')\n//   },\n// },\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/menu.js","import axios from 'axios'\n// localStorage.setItem('sc-sessionid', Math.random()) // 测试\nimport {Message} from 'element-ui'\nimport {ERROR_CODE_MAP, oauth2, urls} from '@/setting'\nimport router from '@/router'\n\naxios.interceptors.request.use(function (config) {\n  return new Promise((resolve, reject)=>{\n    var sessionid = localStorage.getItem('sc-sessionid')\n    if(config.url.indexOf(urls.getUserInfoByCode) !== -1) {\n      getToken(function(token) {\n        config.headers['Authorization'] = \"token \" + token;\n        config.headers['Content-Type'] = \"application/json\";\n        return resolve(config);\n      })\n    } else {\n      if(config.method === 'get') {\n        config.params = config.params || {}\n        config.params.sessionid = sessionid\n      } else { // PUT，POST，PATCH\n        config.data = config.data || {} \n        config.data.sessionid = sessionid\n      }\n      // 加登录的 session\n      return resolve(config);\n    }\n  })\n}, function (error) {\n  return Promise.reject(error);\n});\n\naxios.interceptors.response.use(function (response) {\n  var data = response.data\n  var config = response.config\n  var errcode = data.errcode\n  if(errcode == 13) { // session 超时，跳登录页\n    router.push('/login')\n  } else if(errcode != undefined && errcode != 0) {\n    if(!config.notShowError) { // 调用的时候设置的\n      var errmsg = ERROR_CODE_MAP[errcode] || data.errmsg\n      Message({\n        showClose: true,\n        message: errmsg,\n        type: 'error'\n      })\n    }\n  }\n  return response;\n}, function (error) {\n  return Promise.reject(error);\n});\n\nvar getToken = function(successCallback) {\n  var now = new Date().getTime()\n  var token = localStorage.getItem(\"authInfo\");\n  if (token) {\n    token = JSON.parse(token)\n    if (!token.expireTime || now > token.expireTime) { // token 过期\n      token = false\n    }\n  }\n  if (token) {\n    successCallback(token.token);\n  } else {\n    var auth = {\n      \"app_id\": oauth2.appid,\n      \"app_secret\": oauth2.appsecret\n    }\n    axios.post(oauth2.url, auth, {\n      headers: {\n        \"Content-Type\": 'application/x-www-form-urlencoded'\n      }\n    }).then(function(res) {\n      var data = res.data;\n      var authInfo = {\n        token: data.token,\n        time: new Date().getTime(),\n        expireTime: now + (data.expire - 100) * 1000// 过期时间 data.expire 的单位是秒\n      }\n      localStorage.setItem(\"authInfo\", JSON.stringify(authInfo));\n      successCallback(data.token);\n    }, function(err) {\n      console.error(\"error occur when getToken \" + err);\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/utils/ajax.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-692e575c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!@/assets/reset.css\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-692e575c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!@/assets/common.css\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-692e575c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=2!./App.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-692e575c\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/App.vue\n// module id = 75\n// module chunks = 3","var SERVER_PREFIX\nvar HOST\n\nif (process.env.NODE_ENV === 'development') { // 开发环境\n  HOST = 'http://127.0.0.1:8001' \n} else { // 线上环境\n  HOST = 'http://amusement.com/api' \n}\n\nexport const urls = {\n  song: addUrlGroup(`${SERVER_PREFIX}/song`)\n}\n\n// 权限值\nexport const LIMIT_KEY = {\n  'ADD': 1,\n  'EDIT': 2,\n  'DELETE': 4,\n  'LIST': 8,\n  'QUERY': 16,\n  'ADUIT': 32,\n}\n\nexport const ERROR_CODE_MAP = {\n  19: '没有权限'\n}\n\nfunction addUrlGroup (prefix, types = ['list', 'detail', 'del', 'add', 'edit']) {\n  var res = {}\n  types.forEach(type => {\n    res[type] = `${prefix}/${type}`\n  })\n  return res\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/setting.js"],"sourceRoot":""}